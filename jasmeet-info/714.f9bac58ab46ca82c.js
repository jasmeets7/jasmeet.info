(self.webpackChunkjasmeet_info=self.webpackChunkjasmeet_info||[]).push([[714],{714:(X,Z,C)=>{"use strict";C.r(Z),C.d(Z,{HomeModule:()=>it});var D=C(9808),S=C(5054),A=C(1777),z=C(6808),L=C.n(z),_=C(558),l=C(2096),x=C(7714);C(2519);let w=(()=>{class M{constructor(){}ngOnInit(){this.options={textColour:"#DBD8E3",textFont:"Rany",textHeight:30,maxSpeed:.06,freezeActive:!0,shuffleTags:!0,shape:"DblHelix",zoom:.8,wheelZoom:!1,noSelect:!0,freezeDecel:!0,fadeIn:3e3,initial:[.3,-.1],depth:1.1},TagCanvas.Start("myCanvas","",this.options)}}return M.\u0275fac=function(E){return new(E||M)},M.\u0275cmp=l.Xpm({type:M,selectors:[["tag-canvas"]],decls:60,vars:0,consts:[["id","myCanvasContainer"],["width","650","height","650","id","myCanvas"],["myCanvas",""]],template:function(E,ht){1&E&&(l.TgZ(0,"div",0)(1,"canvas",1,2)(3,"p"),l._uU(4,"Anything in here will be replaced on browsers that support the canvas element"),l.qZA(),l.TgZ(5,"ul")(6,"li")(7,"a"),l._uU(8,"HTML"),l.qZA()(),l.TgZ(9,"li")(10,"a"),l._uU(11,"CSS"),l.qZA()(),l.TgZ(12,"li")(13,"a"),l._uU(14,"ES5/ES6"),l.qZA()(),l.TgZ(15,"li")(16,"a"),l._uU(17,"TypeScript"),l.qZA()(),l.TgZ(18,"li")(19,"a"),l._uU(20,"REST"),l.qZA()(),l.TgZ(21,"li")(22,"a"),l._uU(23,"JSON"),l.qZA()(),l.TgZ(24,"li")(25,"a"),l._uU(26,"Angular"),l.qZA()(),l.TgZ(27,"li")(28,"a"),l._uU(29,"Spring boot"),l.qZA()(),l.TgZ(30,"li")(31,"a"),l._uU(32,"Node JS"),l.qZA()(),l.TgZ(33,"li")(34,"a"),l._uU(35,"Git"),l.qZA()(),l.TgZ(36,"li")(37,"a"),l._uU(38,"_lodash"),l.qZA()(),l.TgZ(39,"li")(40,"a"),l._uU(41,"Bootstrap"),l.qZA()(),l.TgZ(42,"li")(43,"a"),l._uU(44,"SASS"),l.qZA()(),l.TgZ(45,"li")(46,"a"),l._uU(47,"J2EE"),l.qZA()(),l.TgZ(48,"li")(49,"a"),l._uU(50,"jQuery"),l.qZA()(),l.TgZ(51,"li")(52,"a"),l._uU(53,"SQL"),l.qZA()(),l.TgZ(54,"li")(55,"a"),l._uU(56,"npm"),l.qZA()(),l.TgZ(57,"li")(58,"a"),l._uU(59,"Java"),l.qZA()()()()())},styles:[""]}),M})();var f=C(5227);const c=function(){return{delay:"600ms"}},m=function(M){return{value:"triggerValue",params:M}},O=function(){return{delay:"800ms"}},F=function(){return["/about-me"]},J=function(){return{delay:"1000ms"}},U=function(){return["/contact"]},b=function(){return{delay:"1200ms"}},P=[{path:"",component:(()=>{class M{constructor(){}ngOnInit(){new(L())(".typed-element",{strings:["Hi, <span style='color:#DBD8E3;'>Jasmeet</span> here"],typeSpeed:120,showCursor:!0,cursorChar:"_",loop:!1})}}return M.\u0275fac=function(E){return new(E||M)},M.\u0275cmp=l.Xpm({type:M,selectors:[["app-main"]],decls:21,vars:20,consts:[[1,"content"],[1,"row","m-0","main"],[1,"col-md-12","col-lg-6","pr-0","welcome"],[1,"row","m-0","w-100","gap-20"],[1,"col-lg-12","w-100","pl-0","title"],[1,"typed-element"],[1,"col-lg-12","sub-title","pl-0"],[1,"row","btn-width","m-0"],[1,"col-xs-12","col-sm-6","col-md-6","col-lg-6","w-100","pl-0"],[1,"btn","w-100",3,"routerLink"],[1,"col-xs-12","col-sm-6","col-md-6","col-lg-6","w-100","pr-0"],[1,"col-lg-6","p-0","hide-canvas"],[1,"row","m-0","w-100","footer"],[1,"col-lg-12"]],template:function(E,ht){1&E&&(l._UZ(0,"navigation"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),l._UZ(6,"span",5),l.qZA(),l.TgZ(7,"div",6),l._uU(8," Full-Stack Developer "),l.qZA(),l.TgZ(9,"div",7)(10,"div",8)(11,"button",9),l._uU(12,"About Me"),l.qZA()(),l.TgZ(13,"div",10)(14,"button",9),l._uU(15,"Let's Connect"),l.qZA()()()()(),l.TgZ(16,"div",11),l._UZ(17,"tag-canvas"),l.qZA()(),l.TgZ(18,"div",12)(19,"div",13),l._UZ(20,"footer"),l.qZA()()()),2&E&&(l.xp6(7),l.Q6J("@fadeInUpAnimation",l.VKq(7,m,l.DdM(6,c))),l.xp6(3),l.Q6J("@fadeInUpAnimation",l.VKq(10,m,l.DdM(9,O))),l.xp6(1),l.Q6J("routerLink",l.DdM(12,F)),l.xp6(2),l.Q6J("@fadeInUpAnimation",l.VKq(14,m,l.DdM(13,J))),l.xp6(1),l.Q6J("routerLink",l.DdM(16,U)),l.xp6(6),l.Q6J("@fadeInUpAnimation",l.VKq(18,m,l.DdM(17,b))))},directives:[x.J,S.rH,w,f.c],styles:[".content[_ngcontent-%COMP%]{display:grid;place-items:center;height:100vh}.content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{align-self:end;padding-left:9rem}.content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%] > .welcome[_ngcontent-%COMP%]{display:grid;place-items:center}.content[_ngcontent-%COMP%] > .footer[_ngcontent-%COMP%]{align-self:end;justify-content:center;padding-bottom:1.125rem}.title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:3.938rem}.sub-title[_ngcontent-%COMP%]{color:#5c5470;font-size:2.25rem}.typed-element[_ngcontent-%COMP%]{color:#5c5470}.btn[_ngcontent-%COMP%]{font-size:1.013rem;border:3px solid transparent;text-decoration:none;color:#dbd8e3;padding:.375rem .75rem;border-color:#dbd8e3;line-height:1.5;background-color:transparent;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.btn[_ngcontent-%COMP%]:hover{color:#5c5470;background-color:#dbd8e3;border-color:#dbd8e3}.btn-width[_ngcontent-%COMP%]{width:60%}@media only screen and (max-width: 75em){.hide-canvas[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{padding:0 5rem}.title[_ngcontent-%COMP%]{font-size:3.713rem}.sub-title[_ngcontent-%COMP%]{font-size:1.856rem}.btn-width[_ngcontent-%COMP%]{width:100%}.w-95[_ngcontent-%COMP%]{width:95%}}@media only screen and (max-width: 48em){.content[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:2.25rem}.sub-title[_ngcontent-%COMP%]{font-size:1.125rem}.btn-width[_ngcontent-%COMP%]{width:100%}.btn-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0;margin-top:1rem}}@media only screen and (max-width: 36em){.title[_ngcontent-%COMP%]{font-size:1.688rem}.btn[_ngcontent-%COMP%]{padding:0}}"],data:{animation:[(0,A.X$)("fadeInUpAnimation",[(0,A.eR)("void => *",[(0,A._7)(_.eu)])])]}}),M})()}];let at=(()=>{class M{}return M.\u0275fac=function(E){return new(E||M)},M.\u0275mod=l.oAB({type:M}),M.\u0275inj=l.cJS({imports:[[S.Bz.forChild(P)],S.Bz]}),M})();var q=C(9444),G=C(4466);let it=(()=>{class M{}return M.\u0275fac=function(E){return new(E||M)},M.\u0275mod=l.oAB({type:M}),M.\u0275inj=l.cJS({imports:[[D.ez,at,q.uH,G.m]]}),M})()},6808:function(X){X.exports=function(Z){var C={};function D(S){if(C[S])return C[S].exports;var A=C[S]={exports:{},id:S,loaded:!1};return Z[S].call(A.exports,A,A.exports,D),A.loaded=!0,A.exports}return D.m=Z,D.c=C,D.p="",D(0)}([function(Z,C,D){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=function(){function l(x,d){for(var w=0;w<d.length;w++){var f=d[w];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(x,f.key,f)}}return function(x,d,w){return d&&l(x.prototype,d),w&&l(x,w),x}}();var z=D(1),L=D(3),_=function(){function l(x,d){(function A(l,x){if(!(l instanceof x))throw new TypeError("Cannot call a class as a function")})(this,l),z.initializer.load(this,d,x),this.begin()}return S(l,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var d=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,d&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var d=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){d.currentElContent&&0!==d.currentElContent.length?d.backspace(d.currentElContent,d.currentElContent.length):d.typewrite(d.strings[d.sequence[d.arrayPos]],d.strPos)},this.startDelay)}},{key:"typewrite",value:function(d,w){var f=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var c=this.humanizer(this.typeSpeed),m=1;!0!==this.pause.status?this.timeout=setTimeout(function(){w=L.htmlParser.typeHtmlChars(d,w,f);var O=0,F=d.substr(w);if("^"===F.charAt(0)&&/^\^\d+/.test(F)){var J=1;J+=(F=/\d+/.exec(F)[0]).length,O=parseInt(F),f.temporaryPause=!0,f.options.onTypingPaused(f.arrayPos,f),d=d.substring(0,w)+d.substring(w+J),f.toggleBlinking(!0)}if("`"===F.charAt(0)){for(;"`"!==d.substr(w+m).charAt(0)&&(m++,!(w+m>d.length)););var U=d.substring(0,w),b=d.substring(U.length+1,w+m),Y=d.substring(w+m+1);d=U+b+Y,m--}f.timeout=setTimeout(function(){f.toggleBlinking(!1),w>=d.length?f.doneTyping(d,w):f.keepTyping(d,w,m),f.temporaryPause&&(f.temporaryPause=!1,f.options.onTypingResumed(f.arrayPos,f))},O)},c):this.setPauseStatus(d,w,!0)}},{key:"keepTyping",value:function(d,w,f){0===w&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var c=d.substr(0,w+=f);this.replaceText(c),this.typewrite(d,w)}},{key:"doneTyping",value:function(d,w){var f=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),(this.arrayPos!==this.strings.length-1||(this.complete(),!1!==this.loop&&this.curLoop!==this.loopCount))&&(this.timeout=setTimeout(function(){f.backspace(d,w)},this.backDelay))}},{key:"backspace",value:function(d,w){var f=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var c=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){w=L.htmlParser.backSpaceHtmlChars(d,w,f);var m=d.substr(0,w);if(f.replaceText(m),f.smartBackspace){var O=f.strings[f.arrayPos+1];f.stopNum=O&&m===O.substr(0,w)?w:0}w>f.stopNum?(w--,f.backspace(d,w)):w<=f.stopNum&&(f.arrayPos++,f.arrayPos===f.strings.length?(f.arrayPos=0,f.options.onLastStringBackspaced(),f.shuffleStringsIfNeeded(),f.begin()):f.typewrite(f.strings[f.sequence[f.arrayPos]],w))},c)}else this.setPauseStatus(d,w,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(d,w,f){this.pause.typewrite=f,this.pause.curString=d,this.pause.curStrPos=w}},{key:"toggleBlinking",value:function(d){!this.cursor||this.pause.status||this.cursorBlinking!==d&&(this.cursorBlinking=d,d?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(d){return Math.round(Math.random()*d/2)+d}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var d=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){d.arrayPos++,d.replaceText(""),d.strings.length>d.arrayPos?d.typewrite(d.strings[d.sequence[d.arrayPos]],0):(d.typewrite(d.strings[0],0),d.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(d){this.attr?this.el.setAttribute(this.attr,d):this.isInput?this.el.value=d:"html"===this.contentType?this.el.innerHTML=d:this.el.textContent=d}},{key:"bindFocusEvents",value:function(){var d=this;!this.isInput||(this.el.addEventListener("focus",function(w){d.stop()}),this.el.addEventListener("blur",function(w){d.el.value&&0!==d.el.value.length||d.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),l}();C.default=_,Z.exports=C.default},function(Z,C,D){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=Object.assign||function(w){for(var f=1;f<arguments.length;f++){var c=arguments[f];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(w[m]=c[m])}return w},A=function(){function w(f,c){for(var m=0;m<c.length;m++){var O=c[m];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(f,O.key,O)}}return function(f,c,m){return c&&w(f.prototype,c),m&&w(f,m),f}}();var l=function z(w){return w&&w.__esModule?w:{default:w}}(D(2)),x=function(){function w(){!function L(w,f){if(!(w instanceof f))throw new TypeError("Cannot call a class as a function")}(this,w)}return A(w,[{key:"load",value:function(c,m,O){if(c.el="string"==typeof O?document.querySelector(O):O,c.options=S({},l.default,m),c.isInput="input"===c.el.tagName.toLowerCase(),c.attr=c.options.attr,c.bindInputFocusEvents=c.options.bindInputFocusEvents,c.showCursor=!c.isInput&&c.options.showCursor,c.cursorChar=c.options.cursorChar,c.cursorBlinking=!0,c.elContent=c.attr?c.el.getAttribute(c.attr):c.el.textContent,c.contentType=c.options.contentType,c.typeSpeed=c.options.typeSpeed,c.startDelay=c.options.startDelay,c.backSpeed=c.options.backSpeed,c.smartBackspace=c.options.smartBackspace,c.backDelay=c.options.backDelay,c.fadeOut=c.options.fadeOut,c.fadeOutClass=c.options.fadeOutClass,c.fadeOutDelay=c.options.fadeOutDelay,c.isPaused=!1,c.strings=c.options.strings.map(function(Y){return Y.trim()}),c.stringsElement="string"==typeof c.options.stringsElement?document.querySelector(c.options.stringsElement):c.options.stringsElement,c.stringsElement){c.strings=[],c.stringsElement.style.display="none";var F=Array.prototype.slice.apply(c.stringsElement.children),J=F.length;if(J)for(var U=0;U<J;U+=1)c.strings.push(F[U].innerHTML.trim())}for(var U in c.strPos=0,c.arrayPos=0,c.stopNum=0,c.loop=c.options.loop,c.loopCount=c.options.loopCount,c.curLoop=0,c.shuffle=c.options.shuffle,c.sequence=[],c.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},c.typingComplete=!1,c.strings)c.sequence[U]=U;c.currentElContent=this.getCurrentElContent(c),c.autoInsertCss=c.options.autoInsertCss,this.appendAnimationCss(c)}},{key:"getCurrentElContent",value:function(c){return c.attr?c.el.getAttribute(c.attr):c.isInput?c.el.value:"html"===c.contentType?c.el.innerHTML:c.el.textContent}},{key:"appendAnimationCss",value:function(c){var m="data-typed-js-css";if(c.autoInsertCss&&(c.showCursor||c.fadeOut)&&!document.querySelector("["+m+"]")){var O=document.createElement("style");O.type="text/css",O.setAttribute(m,!0);var F="";c.showCursor&&(F+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),c.fadeOut&&(F+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==O.length&&(O.innerHTML=F,document.body.appendChild(O))}}}]),w}();C.default=x;var d=new x;C.initializer=d},function(Z,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(A){},onComplete:function(A){},preStringTyped:function(A,z){},onStringTyped:function(A,z){},onLastStringBackspaced:function(A){},onTypingPaused:function(A,z){},onTypingResumed:function(A,z){},onReset:function(A){},onStop:function(A,z){},onStart:function(A,z){},onDestroy:function(A){}},Z.exports=C.default},function(Z,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var D=function(){function L(_,l){for(var x=0;x<l.length;x++){var d=l[x];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,l,x){return l&&L(_.prototype,l),x&&L(_,x),_}}();var A=function(){function L(){!function S(L,_){if(!(L instanceof _))throw new TypeError("Cannot call a class as a function")}(this,L)}return D(L,[{key:"typeHtmlChars",value:function(l,x,d){if("html"!==d.contentType)return x;var w=l.substr(x).charAt(0);if("<"===w||"&"===w){var f;for(f="<"===w?">":";";l.substr(x+1).charAt(0)!==f&&!(1+ ++x>l.length););x++}return x}},{key:"backSpaceHtmlChars",value:function(l,x,d){if("html"!==d.contentType)return x;var w=l.substr(x).charAt(0);if(">"===w||";"===w){var f;for(f=">"===w?"<":"&";l.substr(x-1).charAt(0)!==f&&!(--x<0););x--}return x}}]),L}();C.default=A;var z=new A;C.htmlParser=z}])},2519:()=>{!function(){"use strict";var X,Z,f,c,m,O,F,J,U,Y,P,at,C=Math.abs,D=Math.sin,S=Math.cos,A=Math.max,z=Math.min,L=Math.ceil,_=Math.sqrt,l=Math.pow,x={},d={},w={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},b=document,q={};for(X=0;X<256;++X)Z=X.toString(16),X<16&&(Z="0"+Z),d[Z]=d[Z.toUpperCase()]=X.toString()+",";function G(t){return void 0!==t}function it(t){return"object"==typeof t&&null!=t}function M(t,e,n){return isNaN(t)?n:z(n,A(e,t))}function H(){return!1}function E(){return(new Date).valueOf()}function xt(t){for(var n,i,e=t.length-1;e;)i=~~(Math.random()*e),n=t[e],t[e]=t[i],t[i]=n,--e}function Tt(){var t=window.AudioContext||window.webkitAudioContext;if(P=new t)return P;P="off"}function Ct(t,e,n,i,s,o,a){var h=i,u=s,r=.01*n,p=100*r,v=30*r,k=v/2,I=h+80*r,N=I-40*r,V=u+p,j=V-v,B=u+v,R=u+p/2;if(e.setTransform(1,0,0,1,0,0),e.globalAlpha=1,e.strokeStyle=a,e.lineWidth=o,e.lineJoin="round",e.beginPath(),e.moveTo(N,B),e.lineTo(N,j),e.moveTo(I,V),e.lineTo(N,j),e.lineTo(h,j),e.lineTo(h,B),e.lineTo(N,B),e.lineTo(I,u),t)return e.lineTo(I,B),e.moveTo(I,j),e.lineTo(I,V),e.moveTo(I-k,R-k),e.lineTo(I+k,R+k),e.moveTo(I+k,R-k),e.lineTo(I-k,R+k),void e.stroke();e.closePath(),e.stroke()}function tt(t,e,n){this.x=t,this.y=e,this.z=n}function K(t){this[1]={1:t[0],2:t[1],3:t[2]},this[2]={1:t[3],2:t[4],3:t[5]},this[3]={1:t[6],2:t[7],3:t[8]}}function Nt(t,e,n,i,s){var o,a,h,u,p,r=[],g=2/t;for(p=Math.PI*(3-_(5)+(parseFloat(s)?parseFloat(s):0)),o=0;o<t;++o)h=_(1-(a=o*g-1+g/2)*a),r.push([S(u=o*p)*h*e,a*n,D(u)*h*i]);return r}function At(t,e,n,i,s,o){var a,r,g,p,T,v,h=[],u=2/t;for(r=Math.PI*(3-_(5)+(parseFloat(o)?parseFloat(o):0)),g=0;g<t;++g)p=g*u-1+u/2,T=S(a=g*r),v=D(a),h.push(e?[p*n,T*i,v*s]:[T*n,p*i,v*s]);return h}function kt(t,e,n,i,s,o){var a,r,g,p,h=[],u=2*Math.PI/e;for(r=0;r<e;++r)g=S(a=r*u),p=D(a),h.push(t?[o*n,g*i,p*s]:[g*n,o*i,p*s]);return h}function Ht(t,e,n,i,s){return At(t,0,e,n,i,s)}function Rt(t,e,n,i,s){return At(t,1,e,n,i,s)}function Ut(t,e,n,i,s){return kt(0,t,e,n,i,s=isNaN(s)?0:1*s)}function qt(t,e,n,i,s){return kt(1,t,e,n,i,s=isNaN(s)?0:1*s)}function Q(t,e){if(window.G_vmlCanvasManager)return null;var n=b.createElement("canvas");return n.width=t,n.height=e,n}function Xt(t,e,n,i){var o,s=t.createLinearGradient(0,0,e,0);for(o in i)s.addColorStop(1-o,i[o]);t.fillStyle=s,t.fillRect(0,n,e,1)}function rt(t,e,n){var a,h,u,r,i=1024,s=1,o=t.weightGradient;if(t.gCanvas)h=t.gCanvas.getContext("2d"),s=t.gCanvas.height;else{if(it(o[0])?s=o.length:o=[o],t.gCanvas=a=Q(i,s),!a)return null;for(h=a.getContext("2d"),u=0;u<s;++u)Xt(h,i,u,o[u])}return n=A(z(n||0,s-1),0),"rgba("+(r=h.getImageData(~~((i-1)*e),n,1,1).data)[0]+","+r[1]+","+r[2]+","+r[3]/255+")"}function St(t,e,n,i,s,o,a,h,u,r,g,p){var k,I,T=s+(h||0)+(u.length&&u[0]<0?C(u[0]):0),v=o+(h||0)+(u.length&&u[1]<0?C(u[1]):0);for(t.font=e,t.textBaseline="top",t.fillStyle=n,a&&(t.shadowColor=a),h&&(t.shadowBlur=h),u.length&&(t.shadowOffsetX=u[0],t.shadowOffsetY=u[1]),k=0;k<i.length;++k)I=0,g&&("right"==p?I=r-g[k]:"centre"==p&&(I=(r-g[k])/2)),t.fillText(i[k],T+I,v),v+=parseInt(e)}function nt(t,e,n,i,s,o,a){o?(t.beginPath(),t.moveTo(e,n+s-o),t.arcTo(e,n,e+o,n,o),t.arcTo(e+i,n,e+i,n+o,o),t.arcTo(e+i,n+s,e+i-o,n+s,o),t.arcTo(e,n+s,e,n+s-o,o),t.closePath(),t[a?"stroke":"fill"]()):t[a?"strokeRect":"fillRect"](e,n,i,s)}function pt(t,e,n,i,s,o,a,h,u){this.strings=t,this.font=e,this.width=n,this.height=i,this.maxWidth=s,this.stringWidths=o,this.align=a,this.valign=h,this.scale=u}function lt(t,e,n){var i=Q(e,n);return i?(i.getContext("2d").drawImage(t,(e-t.width)/2,(n-t.height)/2),i):null}function mt(t,e,n){var i=Q(e,n);return i?(i.getContext("2d").drawImage(t,0,0,e,n),i):null}function Mt(t,e,n,i,s,o,a,h,u,r){var v,k,I,N,V,j,B,R,g=e+(2*h+o)*i,p=n+(2*h+o)*i,T=Q(g,p);return T?(u*=i,N=g-(o*=i),V=p-o,h=h*i+(k=I=o/2),v=T.getContext("2d"),R=z(u,N/2,V/2),s&&(v.fillStyle=s,nt(v,k,I,N,V,R)),o&&(v.strokeStyle=a,v.lineWidth=o,nt(v,k,I,N,V,R,!0)),r?((B=(j=Q(g,p)).getContext("2d")).drawImage(t,h,h,e,n),B.globalCompositeOperation="source-in",B.fillStyle=a,B.fillRect(0,0,g,p),B.globalCompositeOperation="destination-over",B.drawImage(T,0,0),B.globalCompositeOperation="source-over",v.drawImage(j,0,0)):v.drawImage(t,h,h,t.width,t.height),{image:T,width:g/i,height:p/i}):null}function zt(t,e,n){var a,h,u,r,g,p,v,i=parseInt(t.toString().length*n),s=parseInt(2*n*t.length),o=Q(i,s);if(!o)return null;for((a=o.getContext("2d")).fillStyle="#000",a.fillRect(0,0,i,s),St(a,n+"px "+e,"#fff",t,0,0,0,0,[],"centre"),v={min:{x:u=(h=a.getImageData(0,0,i,s)).width,y:r=h.height},max:{x:-1,y:-1}},p=0;p<r;++p)for(g=0;g<u;++g)h.data[4*(p*u+g)+1]>0&&(g<v.min.x&&(v.min.x=g),g>v.max.x&&(v.max.x=g),p<v.min.y&&(v.min.y=p),p>v.max.y&&(v.max.y=p));return u!=i&&(v.min.x*=i/u,v.max.x*=i/u),r!=s&&(v.min.y*=i/r,v.max.y*=i/r),o=null,v}function wt(t){return"'"+t.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function ot(t,e,n){(n=n||b).addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)}function Gt(t,e,n){(n=n||b).removeEventListener?n.removeEventListener(t,e):n.detachEvent("on"+t,e)}function ut(t,e,n,i){var o,a,h,u,r,g,s=i.imageScale;return e.complete?t.complete?(e.width=e.width,e.height=e.height,s&&(t.width=e.width*s,t.height=e.height*s),n.iw=t.width,n.ih=t.height,i.txtOpt&&(a=t,g=n.ih*(o=i.zoomMax*i.txtScale),(r=n.iw*o)<e.naturalWidth||g<e.naturalHeight?(a=mt(t,r,g))&&(n.fimage=a):(r=n.iw,g=n.ih,o=1),parseFloat(i.imageRadius)&&(n.image=n.fimage=t=function Jt(t,e,n,i,s){var o,a,h=parseFloat(e),u=A(n,i);return(o=Q(n,i))?(e.indexOf("%")>0?h=u*h/100:h*=s,(a=o.getContext("2d")).globalCompositeOperation="source-over",a.fillStyle="#fff",h>=u/2?(h=z(n,i)/2,a.beginPath(),a.moveTo(n/2,i/2),a.arc(n/2,i/2,h,0,2*Math.PI,!1),a.fill(),a.closePath()):(nt(a,0,0,n,i,h=z(n/2,i/2,h),!0),a.fill()),a.globalCompositeOperation="source-in",a.drawImage(t,0,0,n,i),o):null}(n.image,i.imageRadius,r,g,o)),n.HasText()||(i.shadow&&(a=function Yt(t,e,n,i,s,o,a){var v,k,h=C(a[0]),u=C(a[1]),r=e+(h>o?h+o:2*o)*i,g=n+(u>o?u+o:2*o)*i,p=i*((o||0)+(a[0]<0?h:0)),T=i*((o||0)+(a[1]<0?u:0));return(v=Q(r,g))?(k=v.getContext("2d"),s&&(k.shadowColor=s),o&&(k.shadowBlur=o*i),a&&(k.shadowOffsetX=a[0]*i,k.shadowOffsetY=a[1]*i),k.drawImage(t,p,T,e,n),{image:v,width:r/i,height:g/i}):null}(n.image,r,g,o,i.shadow,i.shadowBlur,i.shadowOffset),a&&(n.fimage=a.image,n.w=a.width,n.h=a.height)),(i.bgColour||i.bgOutlineThickness)&&(h="tag"==i.bgColour?W(n.a,"background-color"):i.bgColour,u="tag"==i.bgOutline?W(n.a,"color"):i.bgOutline||i.textColour,r=n.fimage.width,g=n.fimage.height,"colour"==i.outlineMethod&&(a=Mt(n.fimage,r,g,o,h,i.bgOutlineThickness,n.outline.colour,i.padding,i.bgRadius,1))&&(n.oimage=a.image),(a=Mt(n.fimage,r,g,o,h,i.bgOutlineThickness,u,i.padding,i.bgRadius))&&(n.fimage=a.image,n.w=a.width,n.h=a.height)),"size"==i.outlineMethod&&(i.outlineIncrease>0?(n.iw+=2*i.outlineIncrease,n.ih+=2*i.outlineIncrease,a=mt(n.fimage,r=o*n.iw,g=o*n.ih),n.oimage=a,n.fimage=lt(n.fimage,n.oimage.width,n.oimage.height)):(a=mt(n.fimage,r=o*(n.iw+2*i.outlineIncrease),g=o*(n.ih+2*i.outlineIncrease)),n.oimage=lt(a,n.fimage.width,n.fimage.height))))),void n.Init()):ot("load",function(){ut(t,e,n,i)},t):ot("load",function(){ut(t,e,n,i)},e)}function W(t,e){var n=b.defaultView,i=e.replace(/\-([a-z])/g,function(s){return s.charAt(1).toUpperCase()});return n&&n.getComputedStyle&&n.getComputedStyle(t,null).getPropertyValue(e)||t.currentStyle&&t.currentStyle[i]}function Qt(t,e,n){var s,i=1;return e?i=1*(t.getAttribute(e)||n):(s=W(t,"font-size"))&&(i=s.indexOf("px")>-1&&1*s.replace("px","")||s.indexOf("pt")>-1&&1.25*s.replace("pt","")||3.3*s),i}function st(t){return t.target&&G(t.target.id)?t.target.id:t.srcElement.parentNode.id}function ct(t,e){var n,i,s=parseInt(W(e,"width"))/e.width,o=parseInt(W(e,"height"))/e.height;return G(t.offsetX)?n={x:t.offsetX,y:t.offsetY}:(i=Pt(e.id),G(t.changedTouches)&&(t=t.changedTouches[0]),t.pageX&&(n={x:t.pageX-i.x,y:t.pageY-i.y})),n&&s&&o&&(n.x/=s,n.y/=o),n}function Kt(t){var n=y.tc[(t.target||t.fromElement.parentNode).id];n&&(n.mx=n.my=-1,n.UnFreeze(),n.EndDrag())}function bt(t){var e,i,s,n=y,o=st(t);for(e in n.tc)(i=n.tc[e]).tttimer&&(clearTimeout(i.tttimer),i.tttimer=null);o&&n.tc[o]&&((s=ct(t,(i=n.tc[o]).canvas))&&(i.mx=s.x,i.my=s.y,i.Drag(t,s)),i.drawn=0)}function $t(t){var e=y,n=b.addEventListener?0:1,i=st(t);i&&t.button==n&&e.tc[i]&&e.tc[i].BeginDrag(t)}function te(t){var s,e=y,n=b.addEventListener?0:1,i=st(t);i&&t.button==n&&e.tc[i]&&(s=e.tc[i],bt(t),!s.EndDrag()&&!s.touchState&&s.Clicked(t))}function ee(t){var i,e=st(t),n=e&&y.tc[e];n&&t.changedTouches&&(1==t.touches.length&&0==n.touchState?(n.touchState=1,n.BeginDrag(t),(i=ct(t,n.canvas))&&(n.mx=i.x,n.my=i.y,n.drawn=0)):2==t.targetTouches.length&&n.pinchZoom?(n.touchState=3,n.EndDrag(),n.BeginPinch(t)):(n.EndDrag(),n.EndPinch(),n.touchState=0))}function Ot(t){var e=st(t),n=e&&y.tc[e];if(n&&t.changedTouches){switch(n.touchState){case 1:n.Draw(),n.Clicked();break;case 2:n.EndDrag();break;case 3:n.EndPinch()}n.touchState=0}}function ie(t){var e,i,s,n=y,o=st(t);for(e in n.tc)(i=n.tc[e]).tttimer&&(clearTimeout(i.tttimer),i.tttimer=null);if((i=o&&n.tc[o])&&t.changedTouches&&i.touchState){switch(i.touchState){case 1:case 2:(s=ct(t,i.canvas))&&(i.mx=s.x,i.my=s.y,i.Drag(t,s)&&(i.touchState=2));break;case 3:i.Pinch(t)}i.drawn=0}}function Dt(t){var e=y,n=st(t);n&&e.tc[n]&&(t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.tc[n].Wheel((t.wheelDelta||t.detail)>0))}function ne(t){var e,n=y;for(e in clearTimeout(n.scrollTimer),n.tc)n.tc[e].Pause();n.scrollTimer=setTimeout(function(){var i,s=y;for(i in s.tc)s.tc[i].Resume()},n.scrollPause)}function se(){It(E())}function It(t){var n,e=y.tc;for(n in y.NextFrame(y.interval),t=t||E(),e)e[n].Draw(t)}function Pt(t){var n=b.getElementById(t).getBoundingClientRect(),i=b.documentElement,s=b.body,o=window;return{x:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||s.clientLeft),y:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||s.clientTop)}}function Et(t){this.e=t,this.br=0,this.line=[],this.text=[],this.original=t.innerText||t.textContent}function Ft(t,e){this.ts=null,this.tc=t,this.tag=e,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=t.pulsateTo<1,this.colour=t.outlineColour,this.adash=~~t.outlineDash,this.agap=~~t.outlineDashSpace||this.adash,this.aspeed=1*t.outlineDashSpeed,"tag"==this.colour?this.colour=W(e.a,"color"):"tagbg"==this.colour&&(this.colour=W(e.a,"background-color")),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=0|t.outlineRadius,this.SetMethod(t.outlineMethod)}function gt(t,e,n,i,s,o,a,h,u,r,g,p,T,v){this.tc=t,this.image=null,this.text=e,this.text_original=v,this.line_widths=[],this.title=n.title||null,this.a=n,this.position=new tt(i[0],i[1],i[2]),this.x=this.y=this.z=0,this.w=s,this.h=o,this.colour=a||t.textColour,this.bgColour=h||t.bgColour,this.bgRadius=0|u,this.bgOutline=r||this.colour,this.bgOutlineThickness=0|g,this.textFont=p||t.textFont,this.padding=0|T,this.sc=this.alpha=1,this.weighted=!t.weight,this.outline=new Ft(t,this),this.audio=null}function y(t,e,n){var i,s,h,u,o=b.getElementById(t),a=["id","class","innerHTML"];if(!o)throw 0;if(G(window.G_vmlCanvasManager)&&(o=window.G_vmlCanvasManager.initElement(o),this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])),o&&(!o.getContext||!o.getContext("2d").fillText)){for(s=b.createElement("DIV"),i=0;i<a.length;++i)s[a[i]]=o[a[i]];throw o.parentNode.insertBefore(s,o),o.parentNode.removeChild(o),0}for(i in y.options)this[i]=n&&G(n[i])?n[i]:G(y[i])?y[i]:y.options[i];if(this.canvas=o,this.ctxt=o.getContext("2d"),this.z1=250/A(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=.0075*z(o.height,o.width),this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&wt(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=M(this.pulsateTo,0,1),this.minBrightness=M(this.minBrightness,0,1),this.maxBrightness=M(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline="top",this.lx=(this.lock+"").indexOf("x")+1,this.ly=(this.lock+"").indexOf("y")+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=e||t,this.repeatTags=z(64,~~this.repeatTags),this.minTags=z(200,~~this.minTags),~~this.scrollPause>0?y.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(i=this.GetTags().length)&&(this.repeatTags=L(this.minTags/i)-1),this.transform=K.Identity(),this.startTime=this.time=E(),this.mx=this.my=-1,this.centreImage&&function jt(t){var e=new Image;e.onload=function(){var n=e.width/2,i=e.height/2;t.centreFunc=function(s,o,a,h,u){s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,s.drawImage(e,h-n,u-i)}},e.src=t.centreImage}(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming="function"==typeof y[this.animTiming]?y[this.animTiming]:y.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=function Vt(){var e,t=Q(3,3);return!!t&&((e=t.getContext("2d")).strokeStyle="#000",e.shadowColor="#fff",e.shadowBlur=3,e.globalAlpha=0,e.strokeRect(2,2,2,2),e.globalAlpha=1,t=null,e.getImageData(2,2,1,1).data[0]>0)}()):delete this.shadow,!1===this.activeAudio?P="off":this.activeAudio&&this.LoadAudio(),this.Load(),e&&this.hideTags&&(u=this,y.loaded?u.HideTags():ot("load",function(){u.HideTags()},window)),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=o.title,o.title="","native"==this.tooltip?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=b.createElement("div"),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position="absolute",this.ttdiv.style.zIndex=o.style.zIndex+1,ot("mouseover",function(u){u.target.style.display="none"},this.ttdiv),b.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!q[t])for(q[t]=[["mousemove",bt],["mouseout",Kt],["mouseup",te],["touchstart",ee],["touchend",Ot],["touchcancel",Ot],["touchmove",ie]],this.dragControl&&(q[t].push(["mousedown",$t]),q[t].push(["selectstart",H])),this.wheelZoom&&(q[t].push(["mousewheel",Dt]),q[t].push(["DOMMouseScroll",Dt])),this.scrollPause&&q[t].push(["scroll",ne,window]),i=0;i<q[t].length;++i)ot((s=q[t][i])[0],s[1],s[2]?s[2]:o);y.started||(h=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y.NextFrame=h?y.NextFrameRAF:y.NextFrameTimeout,y.interval=this.interval,y.NextFrame(this.interval),y.started=1)}function Bt(t){var e=t.targetTouches[0],n=t.targetTouches[1];return _(l(n.pageX-e.pageX,2)+l(n.pageY-e.pageY,2))}function dt(t,e){y.tc[e]&&y.tc[e][t]()}for(X in(F=tt.prototype).length=function(){return _(this.x*this.x+this.y*this.y+this.z*this.z)},F.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},F.cross=function(t){return new tt(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},F.angle=function(t){var n,e=this.dot(t);return 0==e?Math.PI/2:(n=e/(this.length()*t.length()))>=1?0:n<=-1?Math.PI:Math.acos(n)},F.unit=function(){var t=this.length();return new tt(this.x/t,this.y/t,this.z/t)},O=K.prototype,K.Identity=function(){return new K([1,0,0,0,1,0,0,0,1])},K.Rotation=function(t,e){var n=D(t),i=S(t),s=1-i;return new K([i+l(e.x,2)*s,e.x*e.y*s-e.z*n,e.x*e.z*s+e.y*n,e.y*e.x*s+e.z*n,i+l(e.y,2)*s,e.y*e.z*s-e.x*n,e.z*e.x*s-e.y*n,e.z*e.y*s+e.x*n,i+l(e.z,2)*s])},O.mul=function(t){var n,i,e=[],s=t.xform?1:0;for(n=1;n<=3;++n)for(i=1;i<=3;++i)e.push(s?this[n][1]*t[1][i]+this[n][2]*t[2][i]+this[n][3]*t[3][i]:this[n][i]*t);return new K(e)},O.xform=function(t){var e={},n=t.x,i=t.y,s=t.z;return e.x=n*this[1][1]+i*this[2][1]+s*this[3][1],e.y=n*this[1][2]+i*this[2][2]+s*this[3][2],e.z=n*this[1][3]+i*this[2][3]+s*this[3][3],e},(U=pt.prototype).SetImage=function(t,e,n,i,s,o,a,h){this.image=t,this.iwidth=e*this.scale,this.iheight=n*this.scale,this.ipos=i,this.ipad=s*this.scale,this.iscale=h,this.ialign=o,this.ivalign=a},U.Align=function(t,e,n){var i=0;return"right"==n||"bottom"==n?i=e-t:"left"!=n&&"top"!=n&&(i=(e-t)/2),i},U.Create=function(t,e,n,i,s,o,a,h,u){var r,g,p,T,v,k,I,N,V,j,B,R,$,et,vt,ft,yt,_t=C(a[0]),Zt=C(a[1]);return h=A(h,_t+o,Zt+o),g=this.width+(v=2*(h+i)),p=this.height+(I=2*(h+i)),V=j=h+i,this.image&&(B=R=h+i,$=this.iwidth,et=this.iheight,"top"==this.ipos||"bottom"==this.ipos?($<this.width?B+=this.Align($,this.width,this.ialign):V+=this.Align(this.width,$,this.align),"top"==this.ipos?j+=et+this.ipad:R+=this.height+this.ipad,g=A(g,$+v),p+=et+this.ipad):(et<this.height?R+=this.Align(et,this.height,this.ivalign):j+=this.Align(this.height,et,this.valign),"right"==this.ipos?B+=this.width+this.ipad:V+=$+this.ipad,g+=$+this.ipad,p=A(p,et+I))),(r=Q(g,p))?(v=I=i/2,vt=z(u,(k=g-i)/2,(N=p-i)/2),T=r.getContext("2d"),e&&(T.fillStyle=e,nt(T,v,I,k,N,vt)),i&&(T.strokeStyle=n,T.lineWidth=i,nt(T,v,I,k,N,vt,!0)),(o||_t||Zt)&&(ft=Q(g,p))&&(yt=T,T=ft.getContext("2d")),St(T,this.font,t,this.strings,V,j,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&T.drawImage(this.image,B,R,$,et),yt&&(T=yt,s&&(T.shadowColor=s),o&&(T.shadowBlur=o),T.shadowOffsetX=a[0],T.shadowOffsetY=a[1],T.drawImage(ft,0,0)),r):null},(J=Et.prototype).Empty=function(){for(var t=0;t<this.text.length;++t)if(this.text[t].length)return!1;return!0},J.Lines=function(t){var n,i,s,e=t?1:0;for(i=(n=(t=t||this.e).childNodes).length,s=0;s<i;++s)"BR"==n[s].nodeName?(this.text.push(this.line.join(" ")),this.br=1):3==n[s].nodeType?this.br?(this.line=[n[s].nodeValue],this.br=0):this.line.push(n[s].nodeValue):this.Lines(n[s]);return e||this.br||this.text.push(this.line.join(" ")),this.text},J.SplitWidth=function(t,e,n,i){var s,o,a,h=[];for(e.font=i+"px "+n,s=0;s<this.text.length;++s){for(a=this.text[s].split(/\s+/),this.line=[a[0]],o=1;o<a.length;++o)e.measureText(this.line.join(" ")+" "+a[o]).width>t?(h.push(this.line.join(" ")),this.line=[a[o]]):this.line.push(a[o]);h.push(this.line.join(" "))}return this.text=h},(f=Ft.prototype).SetMethod=function(t){var e={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawSize"],none:["LastDraw"]},n=e[t]||e.outline;"none"==t?this.Draw=function(){return 1}:this.drawFunc=this[n[1]],this[n[0]]=this.Draw},f.Update=function(t,e,n,i,s,o,a,h){var u=this.tc.outlineOffset,r=2*u;this.x=s*t+a-u,this.y=s*e+h-u,this.w=s*n+r,this.h=s*i+r,this.sc=s,this.z=o},f.Ants=function(t){if(this.adash){var g,e=this.adash,n=this.agap,i=this.aspeed,s=e+n,o=0,a=e,h=n,u=0,r=0;i&&(r=C(i)*(E()-this.ts)/50,i<0&&(r=864e4-r),i=~~r%s),i?(e>=i?(o=e-i,a=i):u=n-(h=s-i),g=[o,h,a,u]):g=[e,n],t.setLineDash(g)}},f.DrawOutline=function(t,e,n,i,s,o){var a=z(this.radius,s/2,i/2);t.strokeStyle=o,this.Ants(t),nt(t,e,n,i,s,a,!0)},f.DrawSize=function(t,e,n,i,s,o,a,h,u){var p,T,r=a.w,g=a.h;return this.pulsate?(T=a.fimage||a.image,a.h*=p=1+((a.image?(a.image.height+this.tc.outlineIncrease)/a.image.height:a.oscale)-1)*(1-this.pulse),a.w*=p):T=a.oimage,a.alpha=1,a.Draw(t,h,u,T),a.h=g,a.w=r,1},f.DrawColour=function(t,e,n,i,s,o,a,h,u){return a.oimage?(this.pulse<1?(a.alpha=1-l(this.pulse,2),a.Draw(t,h,u,a.fimage),a.alpha=this.pulse):a.alpha=1,a.Draw(t,h,u,a.oimage),1):this[a.image?"DrawColourImage":"DrawColourText"](t,e,n,i,s,o,a,h,u)},f.DrawColourText=function(t,e,n,i,s,o,a,h,u){var r=a.colour;return a.colour=o,a.alpha=1,a.Draw(t,h,u),a.colour=r,1},f.DrawColourImage=function(t,e,n,i,s,o,a,h,u){var r=t.canvas,g=~~A(e,0),p=~~A(n,0),T=z(r.width-g,i)+.5|0,v=z(r.height-p,s)+.5|0;return Y?(Y.width=T,Y.height=v):Y=Q(T,v),Y?(Y.getContext("2d").drawImage(r,g,p,T,v,0,0,T,v),t.clearRect(g,p,T,v),a.alpha=this.pulsate?1-l(this.pulse,2):1,a.Draw(t,h,u),t.setTransform(1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(g,p,T,v),t.clip(),t.globalCompositeOperation="source-in",t.fillStyle=o,t.fillRect(g,p,T,v),t.restore(),t.globalAlpha=1,t.globalCompositeOperation="destination-over",t.drawImage(Y,0,0,T,v,g,p,T,v),t.globalCompositeOperation="source-over",1):this.SetMethod("outline")},f.DrawBlock=function(t,e,n,i,s,o){var a=z(this.radius,s/2,i/2);t.fillStyle=o,nt(t,e,n,i,s,a)},f.DrawSimple=function(t,e,n,i,s,o){var a=this.tc;return t.setTransform(1,0,0,1,0,0),t.strokeStyle=this.colour,t.lineWidth=a.outlineThickness,t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0,t.globalAlpha=o?s:1,this.drawFunc(t,this.x,this.y,this.w,this.h,this.colour,e,n,i)},f.DrawPulsate=function(t,e,n,i){var s=E()-this.ts,o=this.tc,a=o.pulsateTo+(1-o.pulsateTo)*(.5+S(2*Math.PI*s/(1e3*o.pulsateTime))/2);return this.pulse=a=y.Smooth(1,a),this.DrawSimple(t,e,n,i,a,1)},f.Active=function(t,e,n){var i=e>=this.x&&n>=this.y&&e<=this.x+this.w&&n<=this.y+this.h;return this.ts=i?this.ts||E():null,i},f.PreDraw=f.PostDraw=f.LastDraw=H,(c=gt.prototype).Init=function(t){var e=this.tc;this.textHeight=e.textHeight,this.HasText()?this.Measure(e.ctxt,e):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=e.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(e)},c.Draw=H,c.HasText=function(){return this.text&&this.text[0].length>0},c.EqualTo=function(t){var e=t.getElementsByTagName("img");return this.a.href!=t.href?0:e.length?this.image.src==e[0].src:(t.innerText||t.textContent)==this.text_original},c.SetImage=function(t){this.image=this.fimage=t},c.SetAudio=function(t){this.audio=t,this.audio.load()},c.SetDraw=function(t){this.Draw=this.fimage?t.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,t.noSelect&&(this.CheckActive=H)},c.MeasureText=function(t){var e,s,n=this.text.length,i=0;for(e=0;e<n;++e)this.line_widths[e]=s=t.measureText(this.text[e]).width,i=A(i,s);return i},c.Measure=function(t,e){var i,s,o,a,h,u,r,g,p,n=zt(this.text,this.textFont,this.textHeight);r=n?n.max.y+n.min.y:this.textHeight,t.font=this.font=this.textHeight+"px "+this.textFont,u=this.MeasureText(t),e.txtOpt&&(a=[(i=e.txtScale)*e.shadowOffset[0],i*e.shadowOffset[1]],t.font=o=(s=i*this.textHeight)+"px "+this.textFont,h=this.MeasureText(t),p=new pt(this.text,o,h+i,i*r+i,h,this.line_widths,e.textAlign,e.textVAlign,i),this.image&&p.SetImage(this.image,this.iw,this.ih,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),g=p.Create(this.colour,this.bgColour,this.bgOutline,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,a,i*this.padding,i*this.bgRadius),"colour"==e.outlineMethod?this.oimage=p.Create(this.outline.colour,this.bgColour,this.outline.colour,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,a,i*this.padding,i*this.bgRadius):"size"==e.outlineMethod&&(s=(n=zt(this.text,this.textFont,this.textHeight+e.outlineIncrease)).max.y+n.min.y,t.font=o=i*(this.textHeight+e.outlineIncrease)+"px "+this.textFont,h=this.MeasureText(t),p=new pt(this.text,o,h+i,i*s+i,h,this.line_widths,e.textAlign,e.textVAlign,i),this.image&&p.SetImage(this.image,this.iw+e.outlineIncrease,this.ih+e.outlineIncrease,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),this.oimage=p.Create(this.colour,this.bgColour,this.bgOutline,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,a,i*this.padding,i*this.bgRadius),this.oscale=this.oimage.width/g.width,e.outlineIncrease>0?g=lt(g,this.oimage.width,this.oimage.height):this.oimage=lt(this.oimage,g.width,g.height)),g&&(this.fimage=g,u=this.fimage.width/i,r=this.fimage.height/i),this.SetDraw(e),e.txtOpt=!!this.fimage),this.h=r,this.w=u},c.SetFont=function(t,e,n,i){this.textFont=t,this.colour=e,this.bgColour=n,this.bgOutline=i,this.Measure(this.tc.ctxt,this.tc)},c.SetWeight=function(t){var i,s,e=this.tc,n=e.weightMode.split(/[, ]/),o=t.length;if(this.HasText()){for(this.weighted=!0,s=0;s<o;++s)"both"==(i=n[s]||"size")?(this.Weight(t[s],e.ctxt,e,"size",e.min_weight[s],e.max_weight[s],s),this.Weight(t[s],e.ctxt,e,"colour",e.min_weight[s],e.max_weight[s],s)):this.Weight(t[s],e.ctxt,e,i,e.min_weight[s],e.max_weight[s],s);this.Measure(e.ctxt,e)}},c.Weight=function(t,e,n,i,s,o,a){var h=((t=isNaN(t)?1:t)-s)/(o-s);"colour"==i?this.colour=rt(n,h,a):"bgcolour"==i?this.bgColour=rt(n,h,a):"bgoutline"==i?this.bgOutline=rt(n,h,a):"outline"==i?this.outline.colour=rt(n,h,a):"size"==i&&(this.textHeight=n.weightSizeMin>0&&n.weightSizeMax>n.weightSizeMin?n.weightSize*(n.weightSizeMin+(n.weightSizeMax-n.weightSizeMin)*h):A(1,t*n.weightSize))},c.SetShadowColourFixed=function(t,e,n){t.shadowColor=e},c.SetShadowColourAlpha=function(t,e,n){t.shadowColor=function Wt(t,e){var i,s,n=t,o=(1*e).toPrecision(3)+")";return"#"===t[0]?(x[t]||(x[t]=4===t.length?"rgba("+w[t[1]]+w[t[2]]+w[t[3]]:"rgba("+d[t.substr(1,2)]+d[t.substr(3,2)]+d[t.substr(5,2)]),n=x[t]+o):"rgb("===t.substr(0,4)||"hsl("===t.substr(0,4)?n=t.replace("(","a(").replace(")",","+o):("rgba("===t.substr(0,5)||"hsla("===t.substr(0,5))&&(i=t.lastIndexOf(",")+1,s=t.indexOf(")"),e*=parseFloat(t.substring(i,s)),n=t.substr(0,i)+e.toPrecision(3)+")"),n}(e,n)},c.DrawText=function(t,e,n){var h,u,i=this.tc,s=this.x,o=this.y,a=this.sc;for(t.globalAlpha=this.alpha,t.fillStyle=this.colour,i.shadow&&this.SetShadowColour(t,i.shadow,this.alpha),t.font=this.font,s+=e/a,o+=n/a-this.h/2,h=0;h<this.text.length;++h)u=s,"right"==i.textAlign?u+=this.w/2-this.line_widths[h]:u-="centre"==i.textAlign?this.line_widths[h]/2:this.w/2,t.setTransform(a,0,0,a,a*u,a*o),t.fillText(this.text[h],0,0),o+=this.textHeight},c.DrawImage=function(t,e,n,i){var s=this.x,o=this.y,a=this.sc,h=i||this.fimage,u=this.w,r=this.h,g=this.alpha,p=this.shadow;t.globalAlpha=g,p&&this.SetShadowColour(t,p,g),t.setTransform(a,0,0,a,a*(s+=e/a-u/2),a*(o+=n/a-r/2)),t.drawImage(h,0,0,u,r)},c.DrawImageIE=function(t,e,n){var i=this.fimage,s=this.sc,o=i.width=this.w*s,a=i.height=this.h*s,h=this.x*s+e-o/2,u=this.y*s+n-a/2;t.setTransform(1,0,0,1,0,0),t.globalAlpha=this.alpha,t.drawImage(i,h,u)},c.Calc=function(t,e){var n,i=this.tc,s=i.minBrightness,o=i.maxBrightness,a=i.max_radius;return n=t.xform(this.position),this.xformed=n,n=function oe(t,e,n,i){var s=t.radius*t.z1/(t.z1+t.z2+e.z);return{x:e.x*s*n,y:e.y*s*i,z:e.z,w:(t.z1-e.z)/t.z2}}(i,n,i.stretchX,i.stretchY),this.x=n.x,this.y=n.y,this.z=n.z,this.sc=n.w,this.alpha=e*M(s+(o-s)*(a-this.z)/(2*a),0,1),this.xformed},c.UpdateActive=function(t,e,n){var i=this.outline,s=this.w,o=this.h;return i.Update(this.x-s/2,this.y-o/2,s,o,this.sc,this.z,e,n),i},c.CheckActive=function(t,e,n){var i=this.tc,s=this.UpdateActive(t,e,n);return s.Active(t,i.mx,i.my)?s:null},c.Clicked=function(t){var s,e=this.a,n=e.target,i=e.href;if(""==n||"_self"==n){if(b.createEvent){if((s=b.createEvent("MouseEvents")).initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null),!e.dispatchEvent(s))return}else if(e.fireEvent&&!e.fireEvent("onclick"))return;b.location=i}else if(self.frames[n])self.frames[n].document.location=i;else{try{if(top.frames[n])return void(top.frames[n].document.location=i)}catch(o){}window.open(i,n)}},c.StopAudio=function(){this.audio&&this.playing&&this.audio.pause(),this.stopped=1,this.playing=0},c.PlayAudio=function(){if("off"!==P&&!this.tc.audioOff&&(P||Tt())){var i,t=this.tc.audio,e=this.tc.gain,n="suspended";if(this.audio&&(this.track||(this.track=P.createMediaElementSource(this.audio),this.gain=P.createGain(),this.track.connect(this.gain),this.gain.connect(P.destination)),e=this.gain,!(t=this.audio).paused))return 1;if(t)return P.state==n&&P.resume(),P.state==n?void 0:(e.gain.value=z(2,A(0,1*this.tc.audioVolume)),t.currentTime=0,this.stopped=0,void 0!==(i=t.play())&&i.then(s=>{this.stopped?this.audio.pause():this.playing=1}),1)}},(m=y.prototype).SourceElements=function(){return b.querySelectorAll?b.querySelectorAll("#"+this.source):[b.getElementById(this.source)]},m.HideTags=function(){var e,t=this.SourceElements();for(e=0;e<t.length;++e)t[e].style.display="none"},m.GetTags=function(){var e,i,s,o,t=this.SourceElements(),n=[];for(o=0;o<=this.repeatTags;++o)for(i=0;i<t.length;++i)for(e=t[i].getElementsByTagName("a"),s=0;s<e.length;++s)n.push(e[s]);return n},m.Message=function(t){var n,i,o,a,h,u,e=[],s=t.split("");for(n=0;n<s.length;++n)" "!=s[n]&&(i=n-s.length/2,(o=b.createElement("A")).href="#",o.innerText=s[n],h=100*D(i/9),u=-100*S(i/9),(a=new gt(this,s[n],o,[h,0,u],2,18,"#000","#fff",0,0,0,"monospace",2,s[n])).Init(),e.push(a));return e},m.AddAudio=function(t,e){if("off"!==P){var n=t.getElementsByTagName("audio");n.length&&(e.SetAudio(n[0]),this.hasAudio=1)}},m.CreateTag=function(t){var e,n,i,s,o,a,h,u,r=[0,0,0];return"text"!=this.imageMode&&(e=t.getElementsByTagName("img")).length&&((n=new Image).src=e[0].src,!this.imageMode)?((i=new gt(this,"",t,r,0,0)).SetImage(n),ut(n,e[0],i,this),this.AddAudio(t,i),i):("image"!=this.imageMode&&(s=(o=new Et(t)).Lines(),o.Empty()?o=null:(a=this.textFont||wt(W(t,"font-family")),this.splitWidth&&(s=o.SplitWidth(this.splitWidth,this.ctxt,a,this.textHeight)),h="tag"==this.bgColour?W(t,"background-color"):this.bgColour,u="tag"==this.bgOutline?W(t,"color"):this.bgOutline)),o||n?(i=new gt(this,s,t,r,2,this.textHeight+2,this.textColour||W(t,"color"),h,this.bgRadius,u,this.bgOutlineThickness,a,this.padding,o&&o.original),n?(i.SetImage(n),ut(n,e[0],i,this)):i.Init(),this.AddAudio(t,i),i):void 0)},m.UpdateTag=function(t,e){var n=this.textColour||W(e,"color"),i=this.textFont||wt(W(e,"font-family")),s="tag"==this.bgColour?W(e,"background-color"):this.bgColour,o="tag"==this.bgOutline?W(e,"color"):this.bgOutline;t.a=e,t.title=e.title,(t.colour!=n||t.textFont!=i||t.bgColour!=s||t.bgOutline!=o)&&t.SetFont(i,n,s,o)},m.Weight=function(t){var n,i,s,a,e=t.length,o=[],h=this.weightFrom?this.weightFrom.split(/[, ]/):[null],u=h.length;for(i=0;i<e;++i)for(o[i]=[],s=0;s<u;++s)n=Qt(t[i].a,h[s],this.textHeight),(!this.max_weight[s]||n>this.max_weight[s])&&(this.max_weight[s]=n),(!this.min_weight[s]||n<this.min_weight[s])&&(this.min_weight[s]=n),o[i][s]=n;for(s=0;s<u;++s)this.max_weight[s]>this.min_weight[s]&&(a=1);if(a)for(i=0;i<e;++i)t[i].SetWeight(o[i])},m.Load=function(){var n,i,s,o,a,h,u,r,t=this.GetTags(),e=[],g=[],p={sphere:Nt,vcylinder:Ht,hcylinder:Rt,vring:Ut,hring:qt};if(t.length){for(g.length=t.length,r=0;r<t.length;++r)g[r]=r;for(this.shuffleTags&&xt(g),this.max_radius=A(o=100*this.radiusX,A(a=100*this.radiusY,h=100*this.radiusZ)),r=0;r<t.length;++r)(i=this.CreateTag(t[g[r]]))&&e.push(i);for(this.weight&&this.Weight(e,!0),this.shapeArgs?this.shapeArgs[0]=e.length:(n=(s=this.shape.toString().split(/[(),]/)).shift(),this.shape="function"==typeof window[n]?window[n]:p[n]||p.sphere,this.shapeArgs=[e.length,o,a,h].concat(s)),u=this.shape.apply(this,this.shapeArgs),this.listLength=e.length,r=0;r<e.length;++r)e[r].position=new tt(u[r][0],u[r][1],u[r][2])}this.noTagsMessage&&!e.length&&(e=this.Message("No "+(r=this.imageMode&&"both"!=this.imageMode?this.imageMode+" ":"")+"tags")),this.taglist=e},m.Update=function(){var i,a,h,u,r,g,t=this.GetTags(),e=[],n=this.taglist,s=[],o=[];if(!this.shapeArgs)return this.Load();if(t.length){for(u=this.listLength=t.length,h=n.length,r=0;r<h;++r)e.push(n[r]),o.push(r);for(r=0;r<u;++r){for(g=0,i=0;g<h;++g)n[g].EqualTo(t[r])&&(this.UpdateTag(e[g],t[r]),i=o[g]=-1);i||s.push(r)}for(r=0,g=0;r<h;++r)-1==o[g]?o.splice(g,1):++g;if(o.length){for(xt(o);o.length&&s.length;)r=o.shift(),g=s.shift(),e[r]=this.CreateTag(t[g]);for(o.sort(function(p,T){return p-T});o.length;)e.splice(o.pop(),1)}for(g=e.length/(s.length+1),r=0;s.length;)e.splice(L(++r*g),0,this.CreateTag(t[s.shift()]));for(this.shapeArgs[0]=u=e.length,a=this.shape.apply(this,this.shapeArgs),r=0;r<u;++r)e[r].position=new tt(a[r][0],a[r][1],a[r][2]);this.weight&&this.Weight(e)}this.taglist=e},m.SetShadow=function(t){t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffset[0],t.shadowOffsetY=this.shadowOffset[1]},m.LoadAudio=function(){!P&&!Tt()||(this.audio=b.createElement("audio"),this.audio.src=this.activeAudio,this.track=P.createMediaElementSource(this.audio),this.gain=P.createGain(),this.track.connect(this.gain),this.gain.connect(P.destination),this.hasAudio=1,at=function(t){P.resume(),b.removeEventListener("click",at)},b.addEventListener("click",at))},m.ShowAudioIcon=function(){var t=this.audioIconSize,e=this.canvas,n=this.ctxt,i=e.width-t-3,s=e.height-t-3,o=this.audioIconThickness,a="#000",h="#fff",u=this.audioIconDark,r=this.audioOff;!P||(r||(r="suspended"===P.state),this.audioIcon&&this.hasAudio&&(Ct(r,n,t,i,s,o+1,u?h:a),Ct(r,n,t,i,s,o,u?a:h)))},m.CheckAudioIcon=function(){var t=this.audioIconSize,e=this.canvas,n=this.audioIconThickness/2;if(this.audioIcon&&this.mx>=e.width-t-3-n&&this.my>=e.height-t-3-n)return!0},m.ToggleAudio=function(){var t=this.audioOff||P&&"suspended"===P.state;t||this.currentAudio&&this.currentAudio.StopAudio(),this.audioOff=!t},m.Draw=function(t){if(!this.paused){var r,g,p,B,e=this.canvas,n=e.width,i=e.height,s=0,o=(t-this.time)*y.interval/1e3,a=n/2+this.offsetX,h=i/2+this.offsetY,u=this.ctxt,T=-1,v=this.taglist,k=v.length,I=this.active&&this.active.tag,N="",V=this.frontSelect,j=this.centreFunc==H;if(this.time=t,this.frozen&&this.drawn)return this.Animate(n,i,o);for(B=this.AnimateFixed(),u.setTransform(1,0,0,1,0,0),p=0;p<k;++p)v[p].Calc(this.transform,this.fixedAlpha);if(v=function ht(t,e){var s,n=[],i=t.length;for(s=0;s<i;++s)n.push(t[s]);return n.sort(e),n}(v,function(R,$){return $.z-R.z}),B&&this.fixedAnim.active)r=this.fixedAnim.tag.UpdateActive(u,a,h);else if(this.active=null,this.CheckAudioIcon())N="pointer";else{for(p=0;p<k;++p)(g=this.mx>=0&&this.my>=0&&this.taglist[p].CheckActive(u,a,h))&&g.sc>s&&(!V||g.z<=0)&&(T=p,(r=g).tag=this.taglist[p],s=g.sc);this.active=r}for(this.txtOpt||this.shadow&&this.SetShadow(u),u.clearRect(0,0,n,i),p=0;p<k;++p){if(!j&&v[p].z<=0){try{this.centreFunc(u,n,i,a,h)}catch(R){alert(R),this.centreFunc=H}j=!0}r&&r.tag==v[p]&&r.PreDraw(u,v[p],a,h)||v[p].Draw(u,a,h),r&&r.tag==v[p]&&r.PostDraw(u)}this.freezeActive&&r?this.Freeze():(this.UnFreeze(),this.drawn=k==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),B||this.Animate(n,i,o),r&&(r.LastDraw(u),r.tag!=I&&(this.currentAudio&&this.currentAudio!=r.tag&&this.currentAudio.StopAudio(),r.tag.PlayAudio()&&(this.currentAudio=r.tag)),N=this.activeCursor),e.style.cursor=N,this.Tooltip(r,this.taglist[T]),this.audioIcon&&this.ShowAudioIcon()}},m.TooltipNone=function(){},m.TooltipNative=function(t,e){this.canvas.title=t?e&&e.title?e.title:"":this.ctitle},m.SetTTDiv=function(t,e){var n=this,i=n.ttdiv.style;t!=n.ttdiv.innerHTML&&(i.display="none"),n.ttdiv.innerHTML=t,e&&(e.title=n.ttdiv.innerHTML),"none"==i.display&&!n.tttimer&&(n.tttimer=setTimeout(function(){var s=Pt(n.canvas.id);i.display="block",i.left=s.x+n.mx+"px",i.top=s.y+n.my+24+"px",n.tttimer=null},n.tooltipDelay))},m.TooltipDiv=function(t,e){t&&e&&e.title?this.SetTTDiv(e.title,e):!t&&-1!=this.mx&&-1!=this.my&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display="none"},m.Transform=function(t,e,n){if(e||n){var i=D(e),s=S(e),o=D(n),a=S(n),h=new K([a,0,o,0,1,0,-o,0,a]),u=new K([1,0,0,0,s,-i,0,i,s]);t.transform=t.transform.mul(h.mul(u))}},m.AnimateFixed=function(){var t,e,n,i,s;return this.fadeIn&&((e=E()-this.startTime)>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=e/this.fadeIn),!!this.fixedAnim&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),t=this.fixedAnim,e=E()-t.t0,n=t.angle,s=this.animTiming(t.t,e),this.transform=t.transform,e>=t.t?(this.fixedCallbackTag=t.tag,this.fixedCallback=t.cb,this.fixedAnim=this.yaw=this.pitch=0):n*=s,i=K.Rotation(n,t.axis),this.transform=this.transform.mul(i),0!=this.fixedAnim)},m.AnimatePosition=function(t,e,n){var a,h,i=this,s=i.mx,o=i.my;!i.frozen&&s>=0&&o>=0&&s<t&&o<e?(a=i.maxSpeed,h=i.reverse?-1:1,i.lx||(i.yaw=(2*s*a/t-a)*h*n),i.ly||(i.pitch=(2*o*a/e-a)*-h*n),i.initial=null):i.initial||(i.frozen&&!i.freezeDecel?i.yaw=i.pitch=0:i.Decel(i)),this.Transform(i,i.pitch,i.yaw)},m.AnimateDrag=function(t,e,n){var i=this,s=100*n*i.maxSpeed/i.max_radius/i.zoom;i.dx||i.dy?(i.lx||(i.yaw=i.dx*s/i.stretchX),i.ly||(i.pitch=i.dy*-s/i.stretchY),i.dx=i.dy=0,i.initial=null):i.initial||i.Decel(i),this.Transform(i,i.pitch,i.yaw)},m.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},m.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},m.Decel=function(t){var e=t.minSpeed,n=C(t.yaw),i=C(t.pitch);!t.lx&&n>e&&(t.yaw=n>t.z0?t.yaw*t.decel:0),!t.ly&&i>e&&(t.pitch=i>t.z0?t.pitch*t.decel:0)},m.Zoom=function(t){this.z2=this.z1*(1/t),this.drawn=0},m.Clicked=function(t){if(this.CheckAudioIcon())this.ToggleAudio();else{var e=this.active;try{e&&e.tag&&(!1===this.clickToFront||null===this.clickToFront?e.tag.Clicked(t):this.TagToFront(e.tag,this.clickToFront,function(){e.tag.Clicked(t)},!0))}catch(n){}}},m.Wheel=function(t){this.zoom=z(this.zoomMax,A(this.zoomMin,this.zoom+this.zoomStep*(t?1:-1))),this.Zoom(this.zoom)},m.BeginDrag=function(t){this.down=ct(t,this.canvas),t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault()},m.Drag=function(t,e){if(this.dragControl&&this.down){var i=e.x-this.down.x,s=e.y-this.down.y;(this.dragging||i*i+s*s>this.dragThreshold*this.dragThreshold)&&(this.dx=i,this.dy=s,this.dragging=1,this.down=e)}return this.dragging},m.EndDrag=function(){var t=this.dragging;return this.dragging=this.down=null,t},m.BeginPinch=function(t){this.pinched=[Bt(t),this.zoom],t.preventDefault&&t.preventDefault()},m.Pinch=function(t){var n,i=this.pinched;!i||(n=Bt(t),this.zoom=z(this.zoomMax,A(this.zoomMin,i[1]*n/i[0])),this.Zoom(this.zoom))},m.EndPinch=function(t){this.pinched=null},m.Pause=function(){this.paused=!0},m.Resume=function(){this.paused=!1},m.SetSpeed=function(t){this.initial=t,this.yaw=t[0]*this.maxSpeed,this.pitch=t[1]*this.maxSpeed},m.FindTag=function(t){if(!G(t))return null;if(G(t.index)&&(t=t.index),!it(t))return this.taglist[t];var e,n,i;for(G(t.id)?(e="id",n=t.id):G(t.text)&&(e="innerText",n=t.text),i=0;i<this.taglist.length;++i)if(this.taglist[i].a[e]==n)return this.taglist[i]},m.RotateTag=function(t,e,n,i,s,o){var a=t.Calc(this.transform,1),h=new tt(a.x,a.y,a.z),u=function Lt(t,e){return e=e*Math.PI/180,t=t*Math.PI/180,new tt(D(t)*S(e),-D(e),-S(t)*S(e))}(n,e),r=h.angle(u),g=h.cross(u).unit();0==r?(this.fixedCallbackTag=t,this.fixedCallback=s):this.fixedAnim={angle:-r,axis:g,t:i,t0:E(),cb:s,tag:t,active:o}},m.TagToFront=function(t,e,n,i){this.RotateTag(t,0,0,e,n,i)},m.Volume=function(t){this.audioVolume=1*t},y.Start=function(t,e,n){y.Delete(t),y.tc[t]=new y(t,e,n)},y.Linear=function(t,e){return e/t},y.Smooth=function(t,e){return.5-S(e*Math.PI/t)/2},y.Pause=function(t){dt("Pause",t)},y.Resume=function(t){dt("Resume",t)},y.Reload=function(t){dt("Load",t)},y.Update=function(t){dt("Update",t)},y.SetSpeed=function(t,e){return!(!it(e)||!y.tc[t]||isNaN(e[0])||isNaN(e[1])||(y.tc[t].SetSpeed(e),0))},y.TagToFront=function(t,e){return!!it(e)&&(e.lat=e.lng=0,y.RotateTag(t,e))},y.RotateTag=function(t,e){if(it(e)&&y.tc[t]){isNaN(e.time)&&(e.time=500);var n=y.tc[t].FindTag(e);if(n)return y.tc[t].RotateTag(n,e.lat,e.lng,e.time,e.callback,e.active),!0}return!1},y.Delete=function(t){var e,n;if(q[t]&&(n=b.getElementById(t)))for(e=0;e<q[t].length;++e)Gt(q[t][e][0],q[t][e][1],n);delete q[t],delete y.tc[t]},y.NextFrameRAF=function(){requestAnimationFrame(It)},y.NextFrameTimeout=function(t){setTimeout(se,t)},y.tc={},y.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:H,splitWidth:0,animTiming:"Smooth",clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1,activeAudio:"",audioVolume:1,audioIcon:1,audioIconSize:20,audioIconThickness:2,audioIconDark:0})y[X]=y.options[X];window.TagCanvas=y,ot("load",function(){y.loaded=1},window)}()}}]);